System.register(["jotai","react"],function(I){"use strict";var m,P,C,T,x,W,j;return{setters:[function(b){m=b.atom,P=b.SECRET_INTERNAL_getScopeContext,C=b.useAtom,T=b.useSetAtom,I({useAtomValue:b.useAtomValue,useUpdateAtom:b.useSetAtom})},function(b){x=b.useContext,W=b.useCallback,j=b.useMemo}],execute:function(){I({atomFamily:B,atomWithDefault:at,atomWithHash:mt,atomWithObservable:ht,atomWithReducer:q,atomWithReset:F,atomWithStorage:_,createJSONStorage:z,freezeAtom:et,freezeAtomCreator:nt,loadable:yt,selectAtom:Y,splitAtom:st,useAtomCallback:Z,useHydrateAtoms:bt,useReducerAtom:K,useResetAtom:$,waitForAll:ut});const b=I("RESET",Symbol());function F(t){const e=m(t,(o,n,s)=>{s===b?n(e,t):n(e,typeof s=="function"?s(o(e)):s)});return e}const U="w",H="h";function $(t,e){const o=P(e),n=x(o).s;return W(()=>n[U](t,b),[n,t])}function K(t,e,o){const[n,s]=C(t,o),r=W(a=>{s(i=>e(i,a))},[s,e]);return[n,r]}function q(t,e){const o=m(t,(n,s,r)=>s(o,e(n(o),r)));return o}function B(t,e){let o=null;const n=new Map,s=r=>{let a;if(e===void 0)a=n.get(r);else for(const[c,u]of n)if(e(c,r)){a=u;break}if(a!==void 0)if(o!=null&&o(a[1],r))n.delete(r);else return a[0];const i=t(r);return n.set(r,[i,Date.now()]),i};return s.remove=r=>{if(e===void 0)n.delete(r);else for(const[a]of n)if(e(a,r)){n.delete(a);break}},s.setShouldRemove=r=>{if(o=r,!!o)for(const[a,i]of n)o(i[1],a)&&n.delete(a)},s}const G=(t,e)=>{do{const[o,...n]=e,s=t.get(o);if(!s)return;if(!n.length)return s[1];t=s[0],e=n}while(e.length)},Q=(t,e,o)=>{do{const[n,...s]=e;let r=t.get(n);if(r||(r=[new WeakMap],t.set(n,r)),!s.length){r[1]=o;return}t=r[0],e=s}while(e.length)},O=()=>{const t=new WeakMap;return(e,o)=>{const n=G(t,o);if(n)return n;const s=e();return Q(t,o,s),s}},X=O();function Y(t,e,o=Object.is){return X(()=>{const n=m(()=>({}));return m(s=>{const r=e(s(t)),a=s(n);return"prev"in a&&o(a.prev,r)?a.prev:(a.prev=r,r)})},[t,e,o])}function Z(t,e){const o=j(()=>m(null,(s,r,[a,i,c])=>{try{i(t(s,r,a))}catch(u){c(u)}}),[t]),n=T(o,e);return W(s=>{let r=!0,a={};const i=new Promise((c,u)=>{n([s,l=>{r?a={v:l}:c(l)},l=>{r?a={e:l}:u(l)}])});if(r=!1,"e"in a)throw a.e;return"v"in a?a.v:i},[n])}const tt=O(),M=t=>{if(typeof t!="object"||t===null)return;Object.freeze(t);const e=Object.getOwnPropertyNames(t);for(const o of e){const n=t[o];M(n)}return t};function et(t){return tt(()=>m(e=>M(e(t)),(e,o,n)=>o(t,n)),[t])}function nt(t){return(...e)=>{const o=t(...e),n=o.read;return o.read=s=>M(n(s)),o}}const ot=O(),V=t=>!!t.write,rt=t=>typeof t=="function";function st(t,e){return ot(()=>{const o=new WeakMap,n=(c,u)=>{let l=o.get(c);if(l)return l;const f=u&&o.get(u),h=[],d=[];return c.forEach((S,w)=>{const g=e?e(S):w;d[w]=g;const p=f&&f.atomList[f.keyList.indexOf(g)];if(p){h[w]=p;return}const k=E=>{const N=E(s),A=E(t),R=n(A,N.prev).keyList.indexOf(g);if(R<0||R>=A.length){const y=c[n(c).keyList.indexOf(g)];if(y)return y;throw new Error("splitAtom: index out of bounds for read")}return A[R]},v=(E,N,A)=>{const R=E(s),y=E(t),L=n(y,R.prev).keyList.indexOf(g);if(L<0||L>=y.length)throw new Error("splitAtom: index out of bounds for write");const At=rt(A)?A(y[L]):A;N(t,[...y.slice(0,L),At,...y.slice(L+1)])};h[w]=V(t)?m(k,v):m(k)}),f&&f.keyList.length===d.length&&f.keyList.every((S,w)=>S===d[w])?l=f:l={atomList:h,keyList:d},o.set(c,l),l},s=m(()=>({})),r=c=>{const u=c(s),l=c(t),f=n(l,u.prev);return u.prev=l,f.atomList},a=(c,u,l)=>{switch("read"in l&&(console.warn("atomToRemove is deprecated. use action with type"),l={type:"remove",atom:l}),l.type){case"remove":{const f=c(i).indexOf(l.atom);if(f>=0){const h=c(t);u(t,[...h.slice(0,f),...h.slice(f+1)])}break}case"insert":{const f=l.before?c(i).indexOf(l.before):c(i).length;if(f>=0){const h=c(t);u(t,[...h.slice(0,f),l.value,...h.slice(f)])}break}case"move":{const f=c(i).indexOf(l.atom),h=l.before?c(i).indexOf(l.before):c(i).length;if(f>=0&&h>=0){const d=c(t);f<h?u(t,[...d.slice(0,f),...d.slice(f+1,h),d[f],...d.slice(h)]):u(t,[...d.slice(0,h),d[f],...d.slice(h,f),...d.slice(f+1)])}break}}},i=V(t)?m(r,a):m(r);return i},e?[t,e]:[t])}function at(t){const e=Symbol(),o=m(e),n=m(s=>{const r=s(o);return r!==e?r:t(s)},(s,r,a)=>a===b?r(o,e):r(o,typeof a=="function"?a(s(n)):a));return n}const it=O(),ct=m(()=>[]);function ut(t){const e=()=>{const o=lt(t);return m(n=>{const s=[],r=o.map((a,i)=>{try{return n(a)}catch(c){if(c instanceof Promise)s[i]=c;else throw c}});if(s.length)throw Promise.all(s);return ft(t,r)})};return Array.isArray(t)?t.length?it(e,t):ct:e()}const lt=t=>Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e]),ft=(t,e)=>Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((o,n,s)=>({...o,[n]:e[s]}),{});function z(t){let e,o;return{getItem:n=>{const s=a=>(a=a||"",e!==a&&(o=JSON.parse(a),e=a),o),r=t().getItem(n);return r instanceof Promise?r.then(s):s(r)},setItem:(n,s)=>t().setItem(n,JSON.stringify(s)),removeItem:n=>t().removeItem(n)}}const J=z(()=>localStorage);J.subscribe=(t,e)=>{const o=n=>{n.key===t&&n.newValue&&e(JSON.parse(n.newValue))};return window.addEventListener("storage",o),()=>{window.removeEventListener("storage",o)}};function _(t,e,o=J){const n=()=>{try{const r=o.getItem(t);return r instanceof Promise?r.catch(()=>e):r}catch{return e}},s=m(o.delayInit?e:n());return s.onMount=r=>{let a;if(o.subscribe&&(a=o.subscribe(t,r),r(n())),o.delayInit){const i=n();i instanceof Promise?i.then(r):r(i)}return a},m(r=>r(s),(r,a,i)=>{if(i===b)return a(s,e),o.removeItem(t);const c=typeof i=="function"?i(r(s)):i;return a(s,c),o.setItem(t,c)})}function mt(t,e,o){const n=(o==null?void 0:o.serialize)||JSON.stringify,s=(o==null?void 0:o.deserialize)||JSON.parse,r=(o==null?void 0:o.subscribe)||(i=>(window.addEventListener("hashchange",i),()=>{window.removeEventListener("hashchange",i)})),a={getItem:i=>{const c=new URLSearchParams(location.hash.slice(1)).get(i);if(c===null)throw new Error("no value stored");return s(c)},setItem:(i,c)=>{const u=new URLSearchParams(location.hash.slice(1));u.set(i,n(c)),o!=null&&o.replaceState?history.replaceState(null,"","#"+u.toString()):location.hash=u.toString()},removeItem:i=>{const c=new URLSearchParams(location.hash.slice(1));c.delete(i),o!=null&&o.replaceState?history.replaceState(null,"","#"+c.toString()):location.hash=c.toString()},...(o==null?void 0:o.delayInit)&&{delayInit:!0},subscribe:(i,c)=>r(()=>{const u=new URLSearchParams(location.hash.slice(1)).get(i);c(u!==null?s(u):e)})};return _(t,e,a)}function ht(t,e){const o=m(n=>{var s;let r=t(n);const a=(s=r[Symbol.observable])==null?void 0:s.call(r);a&&(r=a);const i=Symbol();let c=null,u=(e==null?void 0:e.initialValue)===void 0?new Promise(v=>{c=v}):void 0,l=!1,f=i,h=!0,d=v=>{(e==null?void 0:e.initialValue)===void 0&&!l?(h&&(u=v),c==null||c(v),l=!0,c=null):f=v};const S=v=>{d(v)},w=v=>{d(Promise.reject(v))};let g=null,p;(e==null?void 0:e.initialValue)!==void 0?p=dt(e):(g=r.subscribe(S,w),p=u),h=!1;const k=m(p);return k.onMount=v=>(d=v,f!==i&&v(f),g||(g=r.subscribe(S,w)),()=>{g==null||g.unsubscribe(),g=null}),{dataAtom:k,observable:r}});return m(n=>{const{dataAtom:s}=n(o);return n(s)},(n,s,r)=>{const{observable:a}=n(o);if("next"in a)a.next(r);else throw new Error("observable is not subject")})}function dt(t){const e=t.initialValue;return e instanceof Function?e():e}const D=new WeakMap;function bt(t,e){const o=P(e),n=x(o),s=n.s,r=vt(n),a=[];for(const i of t){const c=i[0];r.has(c)||(r.add(c),a.push(i))}a.length&&s[H](a)}function vt(t){let e=D.get(t);return e||(e=new WeakSet,D.set(t,e)),e}const gt=O(),wt={state:"loading"};function yt(t){return gt(()=>{const e=new WeakMap,o=m(n=>{let s;try{const i=n(t);return m({state:"hasData",data:i})}catch(i){if(i instanceof Promise)s=i;else return m({state:"hasError",error:i})}const r=e.get(s);if(r)return r;const a=m(wt,async(i,c)=>{try{const u=await i(t,{unstable_promise:!0});c(a,{state:"hasData",data:u})}catch(u){c(a,{state:"hasError",error:u})}});return a.onMount=i=>{i()},e.set(s,a),a});return m(n=>{const s=n(o);return n(s)})},[t])}}}});
